<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Norimane</title>
    <link rel="stylesheet" type="text/css" href="./files/site.css">
    <script>Static.COOKIE_BANNER_CAPABLE = true;</script>
  </head>
  <body>
    <!-- Existing structure remains unchanged -->
    <div id="canvas-wrapper">
      <div id="canvas">
        <div id="page-header-wrapper">
          <!-- Page header content -->
        </div>

        <div id="page-body-wrapper" class="full-width">
          <div id="page-body">
            <div id="content-wrapper">
              <div id="content">
                <div class="main-content" id="main-content">
                  <!-- Existing content remains unchanged -->
                  <div class="sqs-block html-block sqs-block-html" id="block-28b8920e8f1f8e50b260">
                    <div class="sqs-block-content">
                      <h1 title="訪れてくれてありがとう！！の英語">Thank you for visiting us!</h1>
                    </div>
                  </div>
                  
                  <!-- Newsfeed Section -->
                  <section id="nhk-newsfeed" style="padding: 20px; background-color: #f9f9f9;">
                    <h2>NHK Newsfeed</h2>
                    <div id="news-container">
                      <!-- News articles will be dynamically injected here -->
                    </div>
                  </section>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div id="page-footer-wrapper">
          <!-- Page footer content -->
        </div>
      </div>
    </div>

    <script>
      // RSS-to-JSON API key and NHK feed URL
      const API_KEY = 'your_api_key_here';
      const RSS_URL = 'https://www3.nhk.or.jp/rss/news/cat1.xml';
      const API_ENDPOINT = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(RSS_URL)}&api_key=${API_KEY}`;

      async function fetchNHKNews() {
        try {
          const response = await fetch(API_ENDPOINT);
          if (!response.ok) throw new Error('Failed to fetch news feed.');
          
          const data = await response.json();
          const newsContainer = document.getElementById('news-container');

          // Clear existing content
          newsContainer.innerHTML = '';

          // Populate with news articles
          data.items.slice(0, 5).forEach(item => {
            const newsItem = document.createElement('div');
            newsItem.style.marginBottom = '15px';

            newsItem.innerHTML = `
              <h3 style="margin: 0;"><a href="${item.link}" target="_blank" rel="noopener noreferrer">${item.title}</a></h3>
              <p style="font-size: 14px; color: #666;">${new Date(item.pubDate).toLocaleDateString()}</p>
              <p>${item.description}</p>
            `;

            newsContainer.appendChild(newsItem);
          });
        } catch (error) {
          console.error('Error fetching NHK news:', error);
          document.getElementById('news-container').textContent = 'Unable to load news at this time.';
        }
      }

      // Fetch news when the page loads
      window.onload = function() {
        document.getElementById('year').textContent = new Date().getFullYear();
        fetchNHKNews();
      };
    </script>
  </body>
</html>
